<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8" />
    <title>Resume — Full‑Stack .NET Engineer</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet" />
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.3/dist/chart.umd.min.js"></script>
    <meta name="theme-color" content="#0a0a0b" />
    <style>
        #tech-lines {
            background-color: #222;
            color: #fff;
            font-weight: 400;
            font-size: 2vw;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            text-transform: uppercase;
            font-family: "Khula", sans-serif;
            height: 100vh;
            box-sizing: border-box;
            letter-spacing: 6px;
            margin: 0;
            line-height: 1.2;
        }

        span {
            display: inline-block;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .content-loaded {
            animation: fadeIn 0.5s ease-out forwards;
        }
    </style>
</head>
<body>
<!-- Preloader -->
<div id="preloader" class="fixed inset-0 z-50 flex items-center justify-center bg-neutral-950 transition-opacity duration-500">
    <div class="fixed inset-0 flex items-center justify-center">
        <dotlottie-player
                id="lottie-loader"
                src="Lottie/Preloader.json"
                background="transparent"
                speed="1"
                loop
                autoplay
                class="w-full h-auto max-w-4xl max-h-2xl"
        ></dotlottie-player>
    </div>
</div>

<!-- Контент сайта (скрыт до загрузки) -->
<div id="content" class="opacity-0">
    <!-- Ваш основной контент -->
</div>
<div class=" relative h-screen w-full overflow-hidden bg-neutral-950">
    <!-- Контейнер для анимированных строк -->
    <div id="tech-lines" class="absolute inset-0 overflow-hidden">
        <!-- Строки будут добавляться динамически -->
    </div>

    <!-- Ваш контент резюме -->
    <div class="relative z-10 h-full w-full">
        <!-- Здесь разместите основное содержимое резюме -->
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/letterizejs@2.0.0"></script>
<script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', () => {
        const container = document.getElementById('tech-lines');

        // Конфигурация для разных размеров экрана
        const screenConfig = {
            '3xl': {
                linesCount: 10,
                text: "ASP.NET Core & C# & DotNet & WEB & API & MVC & WPF & MAUI & Blazor",
                textClass: 'text-2xl py-6'
            },
            '2xl': {
                linesCount: 12,
                text: "ASP.NET Core & C# & DotNet & WEB & API & MVC & WPF",
                textClass: 'text-xl py-5'
            },
            'xl': {
                linesCount: 15,
                text: "ASP.NET Core & C# & DotNet & WEB & API",
                textClass: 'text-lg py-4'
            },
            'lg': {
                linesCount: 20,
                text: "ASP.NET Core & C# & DotNet",
                textClass: 'text-base py-3'
            },
            'md': {
                linesCount: 25,
                text: "ASP.NET Core & C#",
                textClass: 'text-sm py-2'
            },
            'sm': {
                linesCount: 30,
                text: "C# & .NET",
                textClass: 'text-xs py-1'
            }
        };

        // Функция для определения текущего размера экрана
        const getScreenSize = () => {
            const width = window.innerWidth;
            if (width >= 1920) return '3xl';
            if (width >= 1536) return '2xl';
            if (width >= 1280) return 'xl';
            if (width >= 1024) return 'lg';
            if (width >= 768) return 'md';
            return 'sm';
        };

        // Создаем строки
        const createLines = () => {
            container.innerHTML = '';
            const screenSize = getScreenSize();
            const config = screenConfig[screenSize] || screenConfig['lg'];

            for (let i = 0; i < config.linesCount; i++) {
                const line = document.createElement('div');
                line.className = `animate-me text-nowrap whitespace-nowrap overflow-hidden ${config.textClass}`;
                line.textContent = config.text;
                container.appendChild(line);
            }

            initAnimation();
        };

        // Ваша анимация (без изменений)
        const initAnimation = () => {
            const test = new Letterize({
                targets: ".animate-me"
            });

            const animation = anime.timeline({
                targets: test.listAll,
                delay: anime.stagger(100, {
                    grid: [test.list[0].length, test.list.length],
                    from: "center"
                }),
                loop: true
            });

            animation
                .add({
                    scale: 0.5
                })
                .add({
                    letterSpacing: "10px"
                })
                .add({
                    scale: 1
                })
                .add({
                    letterSpacing: "6px"
                });
        };

        // Инициализация и обработка ресайза
        createLines();

        // Оптимизация ресайза с debounce
        let resizeTimeout;
        window.addEventListener('resize', () => {
            clearTimeout(resizeTimeout);
            resizeTimeout = setTimeout(createLines, 100);
        });
    });
</script>

<style>
    .animate-me {
        font-family: monospace;
        font-weight: bold;
        color: rgba(255, 255, 255, 0.7);
        will-change: transform;
        margin: 0;
        padding-left: 1rem;
    }

    #tech-lines {
        display: flex;
        flex-direction: column;
        justify-content: center;
    }
</style>

<script src="https://unpkg.com/@dotlottie/player-component@latest/dist/dotlottie-player.mjs" type="module"></script>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const preloader = document.getElementById('preloader');
        const content = document.getElementById('content');

        // Имитация загрузки (замените на реальные события загрузки)
        function simulateLoading() {
            // Если у вас есть реальные ресурсы для загрузки, отслеживайте их здесь
            Promise.all([
                // Пример: загрузка изображений
                ...Array.from(document.images).map(img => {
                    if (img.complete) return Promise.resolve();
                    return new Promise(resolve => {
                        img.addEventListener('load', resolve);
                        img.addEventListener('error', resolve);
                    });
                }),
                // Добавьте другие ресурсы при необходимости
                new Promise(resolve => setTimeout(resolve, 3000)) // Минимальное время показа
            ]).then(() => {
                // Когда все загружено
                preloader.classList.add('opacity-0');
                content.classList.add('content-loaded');

                // Удаляем прелоадер после анимации
                setTimeout(() => {
                    preloader.style.display = 'none';
                }, 2000);
            });
        }

        // Запускаем загрузку
        simulateLoading();
    });
</script>

</body>
